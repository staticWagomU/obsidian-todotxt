# Todo.txt for Obsidian - ユーザーガイド

このガイドでは、Todo.txt for Obsidianプラグインの使い方とtodo.txt形式の構文について説明します。

## todo.txt基本構文

todo.txt形式は、プレーンテキストでタスクを管理するためのシンプルな記法です。

### 基本構造

```
[x] [(A)] [作成日] [完了日] <説明文> [+project] [@context] [key:value]
```

各要素は以下の意味を持ちます：

- **完了マーク**: `x ` (xとスペース) - タスク完了を示す
- **優先度**: `(A)` ～ `(Z)` - 大文字の英字、優先度高い順
- **作成日**: `YYYY-MM-DD` - タスク作成日
- **完了日**: `YYYY-MM-DD` - タスク完了日（完了マーク付きの場合のみ）
- **説明文**: タスクの内容
- **プロジェクト**: `+` で始まる単語 - タスクが所属するプロジェクト
- **コンテキスト**: `@` で始まる単語 - タスクを実行する場所や状況
- **タグ**: `key:value` 形式 - 追加のメタデータ

### 実例

#### 1. 基本的なタスク

```
買い物に行く
```

最もシンプルな形式。説明文のみ。

#### 2. 優先度付きタスク

```
(A) 重要な会議の準備
(B) プロジェクト報告書作成
(C) メールチェック
```

優先度A（最高）、B（高）、C（中）でタスクを分類。

#### 3. 作成日付きタスク

```
2026-01-09 新規プロジェクトの企画書作成
```

タスクの作成日を記録。

#### 4. プロジェクト・コンテキスト付きタスク

```
(B) 2026-01-09 データベース設計書レビュー +website @office
```

- `+website`: websiteプロジェクトに関連
- `@office`: オフィスで実行すべきタスク

#### 5. 完了済みタスク

```
x 2026-01-09 2026-01-05 クライアントにメール送信 +support @email
```

- `x`: 完了マーク
- `2026-01-09`: 完了日
- `2026-01-05`: 作成日

#### 6. 複数のプロジェクト・コンテキスト

```
(A) API仕様書作成 +backend +documentation @office @computer
```

複数のプロジェクトやコンテキストを付与可能。

## プラグイン独自機能

Todo.txt for Obsidianは、標準todo.txt形式に加えて、以下の拡張機能を提供します。

### 1. 期日（due:タグ）

**構文**: `due:YYYY-MM-DD`

タスクの期日を設定します。

```
(A) 四半期報告書提出 due:2026-01-15 +business
```

**表示の特徴**:
- **期日超過**: 赤文字でハイライト表示
- **今日が期日**: 強調表示
- **明日が期日**: 注意表示

**実例**:
```
(A) 確定申告書類準備 due:2026-03-15 +taxes @home
(B) 歯医者の予約 due:2026-01-12 @phone
営業会議資料作成 due:2026-01-10 +sales @office
```

### 2. 開始日（t:タグ）

**構文**: `t:YYYY-MM-DD` (threshold date)

タスクの開始日を設定します。開始日前のタスクはグレーアウトされます。

```
(B) 新製品キャンペーン準備 t:2026-02-01 due:2026-02-28 +marketing
```

**表示の特徴**:
- **開始日前**: グレーアウト表示で視覚的に抑制
- **開始日到達**: 通常表示に切り替わる
- **「今やるべきタスク」に集中**: 未来のタスクに気を取られない

**実例**:
```
t:2026-01-15 夏休み旅行の予約 due:2026-06-01 @online
t:2026-02-01 確定申告の準備開始 due:2026-03-15 +taxes
(A) 今日の業務報告 due:2026-01-09 +work
```

上記の例では、1月9日時点では最後のタスクのみが通常表示され、他はグレーアウトされます。

### 3. 繰り返しタスク（rec:タグ）

**構文**: `rec:+Nd` / `rec:Nw` / `rec:Nm` など

タスク完了時に自動的に次回の期日を計算して新しいタスクを作成します。

#### 記法の種類

- **厳格な繰り返し** (`rec:+`): 完了日から次回期日を計算
  ```
  rec:+1d → 完了日の1日後
  rec:+1w → 完了日の1週間後
  rec:+1m → 完了日の1ヶ月後
  ```

- **ゆるやかな繰り返し** (`rec:`): 元の期日から次回期日を計算
  ```
  rec:1d → 元の期日の1日後
  rec:1w → 元の期日の1週間後
  rec:1m → 元の期日の1ヶ月後
  ```

#### 繰り返し間隔の指定

- `d`: 日（days）
- `w`: 週（weeks）
- `m`: 月（months）
- `y`: 年（years）

**実例**:

```
(A) 毎日の日報作成 due:2026-01-09 rec:+1d +work
(B) 週次会議議事録 due:2026-01-13 rec:+1w +team @office
植物の水やり due:2026-01-10 rec:+3d @home
月次請求書発行 due:2026-01-31 rec:+1m +accounting
```

**動作例**:

元のタスク:
```
(B) ゴミ出し due:2026-01-09 rec:+1w @home
```

2026-01-10に完了した場合、新しいタスクが自動作成:
```
(B) ゴミ出し due:2026-01-17 rec:+1w @home
```

### 4. 優先度タグ（pri:タグ）

**構文**: `pri:N` (1=高、2=中、3=低)

優先度を数値で指定する代替方法。`(A)` ~ `(Z)` 記法と併用可能。

```
会議室予約 pri:2 +event @phone
```

### 5. Obsidian内部リンク

**構文**: `[[ノート名]]` または `[[ノート名|表示テキスト]]`

Obsidianのノートへリンクできます。

```
(A) [[プロジェクトX]]の進捗確認 due:2026-01-10 +project-x
[[デザインモックアップ|モックアップ]]のレビュー @office
```

タスクから関連するノート、議事録、資料へ素早くアクセスできます。

### 6. 外部リンク

**構文**: `http://...` または `https://...`

URLを含めると、クリック可能なリンクとして表示されます。

```
(B) Obsidianプラグインドキュメント確認 https://docs.obsidian.md/Plugins +learning
GitHub issueレビュー https://github.com/user/repo/issues/123 +development
```

### 7. 構造化フォーム入力

プラグインは、todo.txt構文を直接書かなくても、フォームUIからタスクを作成できる機能を提供します。

**利用方法**:
1. todo.txtファイルを開く
2. 「新規タスク作成」ボタンをクリック
3. フォームに入力:
   - **説明**: タスクの内容
   - **優先度**: A-Zまたは数値
   - **期日**: カレンダーから選択
   - **開始日**: カレンダーから選択
   - **プロジェクト**: `+project` 形式で入力
   - **コンテキスト**: `@context` 形式で入力
   - **繰り返し**: rec:タグの設定
4. 「作成」ボタンで自動的にtodo.txt形式に変換されてファイルに追加

**メリット**:
- 構文を覚える必要がない
- 入力ミスを防げる
- 日付はカレンダーから選択できる
- 初心者でも簡単に使える

## 実践例

### 日常のタスク管理

```
(A) 2026-01-09 今日のタスクリスト作成 due:2026-01-09 @office
(A) 緊急：クライアントへの返信 due:2026-01-09 +support @email
(B) 週報作成 due:2026-01-10 rec:+1w +work
(C) 書類整理 t:2026-01-11 @office
掃除機をかける rec:+3d @home
```

### プロジェクト管理

```
(A) [[Sprint Planning]]ミーティング準備 due:2026-01-12 +scrum @office
(B) データベーススキーマ設計 t:2026-01-10 due:2026-01-15 +backend +database
(B) UIモックアップレビュー [[デザイン案v2]] due:2026-01-13 +frontend
(C) ドキュメント更新 https://docs.example.com due:2026-01-20 +documentation
テストケース作成 t:2026-01-15 due:2026-01-25 +qa @computer
```

### 長期タスクと繰り返しタスク

```
(A) 確定申告 t:2026-02-01 due:2026-03-15 +taxes @home
(B) 四半期目標レビュー due:2026-03-31 rec:+3m +planning
定期健康診断 due:2026-06-30 rec:+1y @hospital
植物の水やり due:2026-01-10 rec:+3d @home
バックアップ実行 due:2026-01-09 rec:+1d pri:1 @computer
```

## 設定

プラグインの設定は、Obsidian設定画面の「Todo.txt」セクションから行えます。

### 利用可能な設定

- **Default Priority**: 新規タスクのデフォルト優先度
- **Date Format**: 日付の表示形式（YYYY-MM-DD / MM/DD/YYYY など）
- **Show Completed Tasks**: 完了済みタスクの表示/非表示
- **Compact Mode**: コンパクト表示モード（行間を詰める）
- **Auto Sort**: タスクの自動ソート（優先度・期日順）

## よくある質問

### Q: todo.txt形式のファイルはどこに保存すべきですか？

A: どこでも構いません。Obsidian Vault内の任意の場所に`.txt`または`.todotxt`拡張子のファイルを作成してください。プラグインが自動的に認識します。

### Q: Obsidian以外のツールでも編集できますか？

A: はい。todo.txt形式はプレーンテキストなので、任意のテキストエディタ、専用のtodo.txtアプリ（Simpletask、Todoなど）、コマンドラインツール（todo.sh）で編集できます。

### Q: タスクはどのように並び替えられますか？

A: todo.txt形式は、アルファベット順でソートすると意味のある順序になるように設計されています。優先度`(A)`、完了マーク`x`、日付`YYYY-MM-DD`が先頭に来るため、自然な順序で並びます。

### Q: 複数のプロジェクトに属するタスクはどう書きますか？

A: 複数の`+project`タグを並べて書くだけです：
```
(A) タスク説明 +project1 +project2 +project3
```

### Q: 期日と開始日を両方設定できますか？

A: はい。`t:`と`due:`の両方を指定できます：
```
(B) タスク t:2026-01-15 due:2026-01-31 +project
```

### Q: 繰り返しタスクは自動的に作成されますか？

A: はい。`rec:`タグを含むタスクを完了すると、プラグインが自動的に次回の期日を計算して新しいタスクを作成します。

## まとめ

Todo.txt for Obsidianは、シンプルなtodo.txt形式に、Obsidianの機能と便利な拡張を組み合わせたタスク管理プラグインです。プレーンテキストの持続可能性と、リッチなタスク管理機能の両方を享受できます。

詳細な仕様については、[todo.txt形式の公式ドキュメント](https://github.com/todotxt/todo.txt)を参照してください。
